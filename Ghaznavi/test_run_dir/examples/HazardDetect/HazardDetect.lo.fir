circuit HazardDetect : @[:@2.0]
  module HazardDetect : @[:@3.2]
    input clock : Clock @[:@4.4]
    input reset : UInt<1> @[:@5.4]
    input io_if_id_inst : UInt<32> @[:@6.4]
    input io_id_ex_memread : UInt<1> @[:@6.4]
    input io_id_ex_rd_sel : UInt<5> @[:@6.4]
    input io_if_id_pc_in : UInt<32> @[:@6.4]
    input io_current_pc_in : UInt<32> @[:@6.4]
    output io_inst_forward : UInt<1> @[:@6.4]
    output io_pc_forward : UInt<1> @[:@6.4]
    output io_ctrl_forward : UInt<1> @[:@6.4]
    output io_inst_out : UInt<32> @[:@6.4]
    output io_pc_out : UInt<32> @[:@6.4]
    output io_current_pc_out : UInt<32> @[:@6.4]
  
    node rs1_sel = bits(io_if_id_inst, 19, 15) @[HazardDetect.scala 18:30:@8.4]
    node rs2_sel = bits(io_if_id_inst, 24, 20) @[HazardDetect.scala 19:30:@9.4]
    node _T_28 = eq(io_id_ex_memread, UInt<1>("h1")) @[HazardDetect.scala 20:25:@10.4]
    node _T_29 = eq(io_id_ex_rd_sel, rs1_sel) @[HazardDetect.scala 20:57:@11.4]
    node _T_30 = eq(io_id_ex_rd_sel, rs2_sel) @[HazardDetect.scala 20:90:@12.4]
    node _T_31 = or(_T_29, _T_30) @[HazardDetect.scala 20:70:@13.4]
    node _T_32 = and(_T_28, _T_31) @[HazardDetect.scala 20:36:@14.4]
    node _GEN_0 = mux(_T_32, UInt<1>("h1"), UInt<1>("h0")) @[HazardDetect.scala 20:105:@15.4]
    node _GEN_1 = mux(_T_32, io_if_id_inst, io_if_id_inst) @[HazardDetect.scala 20:105:@15.4]
    node _GEN_2 = mux(_T_32, io_if_id_pc_in, io_if_id_pc_in) @[HazardDetect.scala 20:105:@15.4]
    node _GEN_3 = mux(_T_32, io_current_pc_in, io_current_pc_in) @[HazardDetect.scala 20:105:@15.4]
    io_inst_forward <= _GEN_0 @[HazardDetect.scala 21:23:@16.6 HazardDetect.scala 29:21:@24.6]
    io_pc_forward <= _GEN_0 @[HazardDetect.scala 22:21:@17.6 HazardDetect.scala 30:19:@25.6]
    io_ctrl_forward <= _GEN_0 @[HazardDetect.scala 23:23:@18.6 HazardDetect.scala 31:21:@26.6]
    io_inst_out <= _GEN_1 @[HazardDetect.scala 24:19:@19.6 HazardDetect.scala 32:17:@27.6]
    io_pc_out <= _GEN_2 @[HazardDetect.scala 25:17:@20.6 HazardDetect.scala 33:15:@28.6]
    io_current_pc_out <= _GEN_3 @[HazardDetect.scala 26:25:@21.6 HazardDetect.scala 34:23:@29.6]
